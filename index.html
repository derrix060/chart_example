<!DOCTYPE HTML>
<html>
<!-- Styles -->
<style>
#chartdiv {
  width: 100%;
  height: 500px;
}
</style>

<!-- Resources -->
<script src="https://www.amcharts.com/lib/3/amcharts.js"></script>
<script src="https://www.amcharts.com/lib/3/serial.js"></script>
<script src="https://www.amcharts.com/lib/3/amstock.js"></script>
<script src="https://www.amcharts.com/lib/3/plugins/export/export.min.js"></script>
<link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css" media="all" />
<script src="https://www.amcharts.com/lib/3/themes/light.js"></script>
<script src="https://www.amcharts.com/lib/3/plugins/dataloader/dataloader.min.js"></script>
<!-- Chart code -->
<script>
var chartMaina = [];
var chartCDI = [];
var chartIBOV = [];
var chartUSD = [];

generateChartData();

function generateChartData() {
  var delay = 5000;
  var firstDate = new Date();
  firstDate.setDate( firstDate.getDate() - delay );
  firstDate.setHours( 0, 0, 0, 0 );

  

  for ( var i = 0; i < delay; i++ ) {
    var newDate = new Date( firstDate );
    newDate.setDate( newDate.getDate() + i );

    var valueMaina = Math.round( Math.random() * ( 40 + i ) ) + 100 + i;

    var valueCDI = Math.round( Math.random() * ( 100 + i ) ) + 200 + i;

    var valueIBOV = Math.round( Math.random() * ( 100 + i ) ) + 200;

    var valueUSD = Math.round( Math.random() * ( 100 + i ) ) + 200 + i;

    chartMaina.push( {
      "date": newDate,
      "value": valueMaina
    } );
    chartCDI.push( {
      "date": newDate,
      "value": valueCDI
    } );
    chartIBOV.push( {
      "date": newDate,
      "value": valueIBOV
    } );
    chartUSD.push( {
      "date": newDate,
      "value": valueUSD
    } );
  }
}

var chart = AmCharts.makeChart( "chartdiv", {
  "type": "stock",
  "theme": "light",
  "dataSets": [ {
      "title": "MAINA",
      "fieldMappings": [ {
        "fromField": "value",
        "toField": "value"
      }],
      "dataProvider": chartMaina,
      "categoryField": "date",
      "color": "green"
    }, {
      "title": "IBOV",
      "fieldMappings": [ {
        "fromField": "value",
        "toField": "value"
      }],
      "dataProvider": chartIBOV,
      "categoryField": "date",
      "color": "red",
      "compared" : 1
    }, {
      "title": "CDI",
      "fieldMappings": [ {
        "fromField": "value",
        "toField": "value"
      }],
      "dataProvider": chartCDI,
      "categoryField": "date",
      "color": "orange",
      "compared" : 1
    }, {
      "title": "USD",
      "fieldMappings": [ {
        "fromField": "value",
        "toField": "value"
      }],
      "dataProvider": chartUSD,
      "categoryField": "date",
      "color": "black",
      "compared" : 1
    }
  ],

	"panelsSettings": {
    "percentPrecision": 1,
  	"creditsPosition": "top-left",
    "decimalSeparator": ",",
    "thousandsSeparator": "."
  },
  
  "valueAxesSettings": {
  	"position": "right",
    "gridColor": "#FFFFFF",
  },
  
  "panels": [ {
    "showCategoryAxis": 1,
    "percentHeight": 80,
    "stockGraphs": [ {
    	"lineThickness": 3,
      "id": "g1",
      "valueField": "value",
      "comparable": 1,
      "compareField": "value",
      "balloonText": "[[title]]:<b>[[percents.value]]%</b>",
      "compareGraphBalloonText": "[[title]]:<b>[[percents.value]]%</b>"
    } ],
    "stockLegend": {
      "align": "center",
      "valueText": "[[percents.value]]%"
    }
  }],

  "chartScrollbarSettings": {
    "graph": "g1",
    "color": "#000000"
  },

  "chartCursorSettings": {
    "valueBalloonsEnabled": 1,
    "fullWidth": 1,
    "cursorAlpha": 0.1,
    "valueLineBalloonEnabled": 1,
    "valueLineEnabled": 1,
    "valueLineAlpha": 0.5
  },

  "periodSelector": {
    "periods": [ {
      "period": "MM",
      "count": 1,
      "label": "1 month"
    }, {
      "period": "YYYY",
      "count": 1,
      "label": "1 year"
    }, {
      "period": "YYYY",
      "count": 3,
      "label": "3 year"
    }, {
      "period": "YYYY",
      "count": 5,
      "label": "5 year"
    }, {
      "period": "YYYY",
      "count": 10,
      "label": "10 year"
    }, {
      "period": "YTD",
      "label": "YTD"
    }, {
      "period": "MAX",
      "selected": true,
      "label": "MAX"
    } ]
  }
} );

</script>

<!-- HTML -->
<div id="chartdiv">

</div>


</html>